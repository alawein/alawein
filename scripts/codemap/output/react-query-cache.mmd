graph TB
    subgraph Cache["React Query Cache"]
        direction TB

        subgraph Keys["Query Keys"]
            K1["['user']"]
            K2["['simulations']"]
            K3["['workouts', userId]"]
            K4["['recommendations', config]"]
        end

        subgraph State["Cache State"]
            FRESH["Fresh<br/><small>< staleTime</small>"]
            STALE["Stale<br/><small>> staleTime</small>"]
            FETCHING["Fetching"]
            INACTIVE["Inactive<br/><small>> cacheTime â†’ GC</small>"]
        end
    end

    K1 --> FRESH
    K2 --> STALE
    K3 --> FETCHING
    K4 --> INACTIVE

    FRESH --> STALE
    STALE --> FETCHING
    FETCHING --> FRESH
    STALE --> INACTIVE

    style Cache fill:#1e293b,stroke:#3b82f6
    style Keys fill:#0f172a,stroke:#22c55e
    style State fill:#0f172a,stroke:#f59e0b
